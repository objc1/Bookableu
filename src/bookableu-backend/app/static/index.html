<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Bookableu</title>
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,500,700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="/static/styles.css" />
</head>

<body>
  <header>
    <div class="header-container">
      <h1>Bookableu</h1>
      <nav>
        <a href="#" id="link-register">Register</a>
        <a href="#" id="link-login">Login</a>
        <a href="#" id="link-books" class="hidden">My Books</a>
        <a href="#" id="link-upload" class="hidden">Upload Book</a>
        <a href="#" id="link-profile" class="hidden">Profile</a>
      </nav>
    </div>
  </header>
  <main>
    <div class="main-container">
      <!-- Loading Indicator -->
      <div id="loading-indicator" class="hidden">
        <div class="spinner"></div>
        <p>Loading...</p>
      </div>

      <!-- Registration Section -->
      <section id="section-register">
        <h2>Register</h2>
        <form id="register-form">
          <label for="reg-email">Email</label>
          <input type="email" id="reg-email" placeholder="Email" required />
          <label for="reg-password">Password</label>
          <input type="password" id="reg-password" placeholder="Password" required />
          <label for="reg-name">Name (optional)</label>
          <input type="text" id="reg-name" placeholder="Name (optional)" />
          <button type="submit">Register</button>
        </form>
      </section>

      <!-- Login Section -->
      <section id="section-login">
        <h2>Login</h2>
        <form id="login-form">
          <label for="login-email">Email</label>
          <input type="email" id="login-email" placeholder="Email" required />
          <label for="login-password">Password</label>
          <input type="password" id="login-password" placeholder="Password" required />
          <button type="submit">Login</button>
        </form>
      </section>

      <!-- Books List Section -->
      <section id="section-books" class="hidden">
        <h2>My Books</h2>
        <div class="books-grid" id="books-grid">
          <div class="loading-books">Loading your books...</div>
        </div>
      </section>

      <!-- Upload Book Section -->
      <section id="section-upload" class="hidden">
        <h2>Upload Book</h2>
        <form id="upload-form">
          <label for="book-file">Choose Book File</label>
          <input type="file" id="book-file" accept=".pdf,.epub" required />
          <label for="book-author">Author (optional)</label>
          <input type="text" id="book-author" placeholder="Author (optional)" />
          <label for="book-total-pages">Total Pages (optional)</label>
          <input type="number" id="book-total-pages" placeholder="Total Pages (optional)" />
          <button type="submit">Upload Book</button>
        </form>
      </section>

      <!-- Book Detail Section -->
      <section id="section-book-detail" class="hidden">
        <div class="book-reader-header">
          <button id="back-to-library" class="btn-back"><span class="arrow-left">‚Üê</span> Back to Library</button>
          <div class="book-reader-info">
            <h2 id="book-title">Book Title</h2>
            <div class="reader-controls">
              <div class="progress-container">
                <div id="book-progress">Progress: 0%</div>
                <div class="book-progress-bar">
                  <div id="book-progress-fill" class="book-progress-fill" style="width: 0%"></div>
                </div>
              </div>
              <button id="fullscreen-btn" class="btn-control" title="Toggle Fullscreen">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                  stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path
                    d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3">
                  </path>
                </svg>
              </button>
            </div>
          </div>
        </div>
        <div class="book-viewer-container">
          <iframe id="book-viewer" title="Book Viewer" allowfullscreen></iframe>
          <object id="pdf-viewer" data="" type="application/pdf" class="hidden" width="100%" height="100%">
            <div class="pdf-fallback">
              <p>Your browser doesn't support embedded PDFs. Please open the file in a new tab:</p>
              <a id="pdf-download-link" href="" target="_blank">Open PDF</a>
              <button class="btn-fallback" onclick="window.history.back()">Back to Library</button>
            </div>
          </object>
        </div>
      </section>

      <!-- Profile Management Section -->
      <section id="section-profile" class="hidden">
        <h2>Profile Management</h2>
        <div id="profile-info"></div>
        <img id="profile-picture-img" src="" alt="Profile Picture" class="hidden" />
        <form id="profile-form">
          <label for="profile-name">Update your name</label>
          <input type="text" id="profile-name" placeholder="Update your name" />
          <label for="profile-picture">Update Profile Picture</label>
          <input type="file" id="profile-picture" accept=".jpg,.jpeg,.png,.gif" />
          <button type="submit">Update Profile</button>
        </form>
      </section>
    </div>
  </main>

  <script src="/static/script.js"></script>
</body>

</html>